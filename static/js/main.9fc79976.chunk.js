(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(0),o=r.n(a),n=r(7),p=r.n(n),i=(r(14),r(1)),s=r(2),c=r(4),l=r(3),m=r(5),d=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onChange,t=this.props.property;return"object"!==t.type||t.properties||(t.properties={new_key:{type:"string",_sort:0}},t.required=[]),"array"!==t.type||t.items||(t.items={type:"string"}),o.a.createElement("div",{className:"property-wrapper"},o.a.createElement("div",{className:"property form-inline"},o.a.createElement("div",{className:"name form-group mr-2"},o.a.createElement("input",{className:"form-control",name:"_key","data-value":this.props.name,value:this.props.name,onChange:e})),o.a.createElement("div",{className:"type form-group mr-2"},o.a.createElement("select",{className:"form-control",value:this.props.property.type,"data-key":this.props.name,name:"type",onChange:e},o.a.createElement("option",{value:"string"},"string"),o.a.createElement("option",{value:"integer"},"integer"),o.a.createElement("option",{value:"number"},"number"),o.a.createElement("option",{value:"object"},"object"))),o.a.createElement("div",{className:"description form-group mr-2"},o.a.createElement("input",{className:"form-control",name:"description",placeholder:"enter description","data-key":this.props.name,value:this.props.property.description,onChange:e})),o.a.createElement("div",{className:"required form-check mr-2"},o.a.createElement("input",{id:"required_"+this.props.name,className:"form-check-input",name:"_required","data-key":this.props.name,checked:this.props.required,onChange:e,type:"checkbox"}),o.a.createElement("label",{for:"required_"+this.props.name,class:"form-check-label"},"Required"))),"array"===this.props.property.type&&o.a.createElement("div",{className:"property form-inline"},o.a.createElement("div",{className:"items form-group mr-2"},o.a.createElement("input",{type:"text",disabled:!0,class:"form-control",value:"items"})),o.a.createElement("div",{className:"type form-group mr-2"},o.a.createElement("select",{className:"form-control",value:this.props.property.items.type,"data-key":this.props.name,name:"items"},o.a.createElement("option",{value:"string"},"string"),o.a.createElement("option",{value:"integer"},"integer"),o.a.createElement("option",{value:"number"},"number"),o.a.createElement("option",{value:"array"},"array"),o.a.createElement("option",{value:"object"},"object")))),"object"===this.props.property.type&&o.a.createElement(u,{name:this.props.name,property:this.props.property,onUpdate:this.props.onUpdate}))}}]),t}(a.Component),u=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(c.a)(this,Object(l.a)(t).call(this,e))).onUpdate=function(e,t){var a=r.props.property,o=r.props.property.properties;o[e]=t,a.properties=o,r.props.onUpdate(r.state.name,a)},r.onAdd=function(e,t){var a=r.props.property,o=r.props.property.properties,n=0;for(var p in o)o.hasOwnProperty(p)&&++n;t._sort=n,o[e]=t,a.properties=o,r.props.onUpdate(r.state.name,a)},r.onChange=function(e){var t=r.props.property,a=r.props.property.properties;if("_key"===e.target.name){var o=e.target.getAttribute("data-value"),n=a[o];delete a[o],a[e.target.value]=n;var p=t.required.indexOf(o);p>-1&&(t.required.splice(p,1),t.required.push(e.target.value))}else if("_required"===e.target.name){var i=e.target.getAttribute("data-key");if(e.target.checked)t.required.push(i);else{var s=t.required.indexOf(i);s>-1&&t.required.splice(s,1)}}else if("_additionalProperties"===e.target.name)t.additionalProperties=e.target.checked;else{var c=e.target.getAttribute("data-key");a[c][e.target.name]=e.target.value,"type"===e.target.name&&"object"!==e.target.value&&(delete a[c].properties,delete a[c].required,delete a[c].additionalProperties)}t.properties=a,r.props.onUpdate(r.state.name,t)},r.state={name:r.props.name||"root"},r}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.property.properties,r=[];for(var a in t)r.push([a,t[a]]);return r.sort(function(e,t){return e[1]._sort-t[1]._sort}),o.a.createElement("div",{className:"objectWrapper"},o.a.createElement("div",{className:"additionalProperties form-check mr-2"},o.a.createElement("input",{id:"additionalProperties_"+this.props.name,className:"form-check-input",name:"_additionalProperties",checked:this.props.property.additionalProperties,onChange:this.onChange,type:"checkbox"}),o.a.createElement("label",{for:"additionalProperties_"+this.props.name,class:"form-check-label"},"Additional Properties")),r.map(function(e){return o.a.createElement(d,{name:e[0],property:e[1],required:this.props.property.required.indexOf(e[0])>-1,onChange:this.onChange,onUpdate:this.onUpdate})},this),o.a.createElement("button",{class:"btn btn btn-outline-info mt-2",onClick:function(){return e.onAdd("new_key",{type:"string"})}},"New Property"))}}]),t}(a.Component),h=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(c.a)(this,Object(l.a)(t).call(this,e))).onUpdate=function(e,t){console.log("UPDATE"),console.log(e),console.log(t),r.setState({properties:t.properties})},r.removeKey=function(e,t){for(var a in t)delete t[a][e],"object"===t[a].type&&(t[a].properties=r.removeKey(e,t[a].properties));return t},r.state={type:"object",properties:{name:{_sort:0,type:"string",description:"A human name."},hobbies:{_sort:1,type:"object",description:"A human's hobbies.",properties:{label:{_sort:0,type:"string"}},required:[]}},required:[]},r}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state;return e.properties=this.removeKey("_sort",e.properties),o.a.createElement("div",{class:"container-fluid"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-7"},o.a.createElement(u,{onUpdate:this.onUpdate,property:this.state})),o.a.createElement("div",{class:"col-5"},o.a.createElement("pre",null,o.a.createElement("code",null,JSON.stringify(e,void 0,4))))))}}]),t}(a.Component);p.a.render(o.a.createElement(h,null),document.getElementById("root"))},8:function(e,t,r){e.exports=r(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.9fc79976.chunk.js.map